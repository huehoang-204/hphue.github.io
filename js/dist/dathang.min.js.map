{"version":3,"sources":["dathang.js"],"names":["openShopping","document","querySelector","OpenShopping","closeShopping","closeShop","list","listCard","body","addEventListener","checkoutURL","concat","encodeURIComponent","JSON","stringify","listCards","window","href","id","products","name","image","price","newDiv","addToCard","key","initApp","saveData","forEach","value","reloadCard","createElement","classList","add","innerHTML","toLocaleString","data","localStorage","totalPrice","count","total","innerText","quantity","changeQuantity","getItem","appendChild","restoreData","parse"],"mappings":"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","file":"dathang.min.js","sourcesContent":["let openShopping = document.querySelector('.shopping');\r\nlet OpenShopping = document.querySelector('.shop');\r\nlet closeShopping = document.querySelector('.closeShopping');\r\nlet closeShop = document.querySelector('.closeshop');\r\nlet list = document.querySelector('.list1');\r\nlet listCard = document.querySelector('.listCard');\r\nlet body = document.querySelector('body');\r\nlet total = document.querySelector('.total');\r\nlet quantity = document.querySelector('.quantity');\r\n\r\nopenShopping.addEventListener('click', ()=>{\r\n    body.classList.add('active');\r\n})\r\nOpenShopping.addEventListener('click', ()=>{\r\n    body.classList.add('active');\r\n})\r\ncloseShop.addEventListener('click', ()=>{\r\n  body.classList.remove('active');});\r\n  \r\ncloseShopping.addEventListener('click', ()=>{\r\n    body.classList.remove('active');\r\n    // Chuyển hướng sang trang \"checkout.html\" và truyền dữ liệu qua URL\r\n  const checkoutURL = `checkout.html?data=${encodeURIComponent(JSON.stringify(listCards))}`;\r\n  window.location.href = checkoutURL;\r\n});\r\n\r\n\r\nlet products = [\r\n    {\r\n        id: 1,\r\n        name: 'Suất đặc biệt',\r\n        image: '1.PNG',\r\n        price: 250000\r\n    },\r\n    {\r\n        id: 2,\r\n        name: 'Gà chiên sốt thái',\r\n        image: '2.PNG',\r\n        price: 120000\r\n    },\r\n    {\r\n        id: 3,\r\n        name: 'Salat cá hồi',\r\n        image: 'caesar.jpg',\r\n        price: 220000\r\n    },\r\n    {\r\n        id: 4,\r\n        name: 'Gà rán khoai tây chiên',\r\n        image: 'chicken leg.png',\r\n        price: 125000\r\n    },\r\n    {\r\n        id: 5,\r\n        name: 'Salat',\r\n        image: '5.PNG',\r\n        price: 50000\r\n    },\r\n    {\r\n        id: 6,\r\n        name: 'Pizza phô mai',\r\n        image: '6.PNG',\r\n        price: 120000\r\n    },\r\n    {\r\n      id: 7,\r\n      name: 'Mỳ trộn thập cẩm',\r\n      image: 'pasta.png',\r\n      price: 279000\r\n  },\r\n  {\r\n    id: 8,\r\n    name: 'Cá hồi sốt tiêu',\r\n    image: 'white fish.png',\r\n    price: 500000 \r\n},\r\n{\r\n  id: 9,\r\n  name: 'Nước ép chanh leo',\r\n  image: 'ncchanh.jfif',\r\n  price: 45000\r\n},\r\n{\r\n  id: 10,\r\n  name: 'Sinh tố bơ',\r\n  image: 'sinhto.jfif',\r\n  price: 45000\r\n},\r\n{\r\n  id: 11,\r\n  name: 'Chè',\r\n  image: 'che.jfif',\r\n  price: 45000\r\n},\r\n{\r\n  id: 12,\r\n  name: 'Gà xào',\r\n  image: 'gaxao.jfif',\r\n  price: 150000\r\n}\r\n\r\n];\r\nlet listCards = [];\r\n\r\nfunction initApp() {\r\n  products.forEach((value, key) => {\r\n    let newDiv = document.createElement('div');\r\n    newDiv.classList.add('item');\r\n    newDiv.innerHTML = `\r\n      <img src=\"image/${value.image}\">\r\n      <div class=\"title\">${value.name}</div>\r\n      <div class=\"price\">${value.price.toLocaleString()}</div>\r\n      <button onclick=\"addToCard(${key})\">Add To Card</button>`;\r\n    list.appendChild(newDiv);\r\n  });\r\n}\r\n\r\nfunction addToCard(key) {\r\n  if (listCards[key] == null) {\r\n    // Copy sản phẩm từ danh sách chính vào giỏ hàng\r\n    listCards[key] = JSON.parse(JSON.stringify(products[key]));\r\n    listCards[key].quantity = 1;\r\n  }\r\n  saveData();\r\n  reloadCard();\r\n}\r\n\r\nfunction saveData() {\r\n  localStorage.setItem('cartItems', JSON.stringify(listCards));\r\n}\r\n\r\nfunction reloadCard() {\r\n  listCard.innerHTML = '';\r\n  let count = 0;\r\n  let totalPrice = 0;\r\n  const data = localStorage.getItem('cartItems');\r\n  listCards.forEach((value, key) => {\r\n    if (value != null) {\r\n      totalPrice += value.price;\r\n      count += value.quantity;\r\n\r\n      let newDiv = document.createElement('li');\r\n      newDiv.innerHTML = `\r\n        <div><img src=\"image/${value.image}\"/></div>\r\n        <div>${value.name}</div>\r\n        <div>${value.price.toLocaleString()}</div>\r\n        <div>\r\n          <button onclick=\"changeQuantity(${key}, ${value.quantity - 1})\">-</button>\r\n          <div class=\"count\">${value.quantity}</div>\r\n          <button onclick=\"changeQuantity(${key}, ${value.quantity + 1})\">+</button>\r\n        </div>`;\r\n      listCard.appendChild(newDiv);\r\n    }\r\n  });\r\n\r\n  total.innerText = totalPrice.toLocaleString();\r\n  quantity.innerText = count;\r\n}\r\n\r\nfunction changeQuantity(key, quantity) {\r\n  if (quantity === 0) {\r\n    delete listCards[key];\r\n  } else {\r\n    listCards[key].quantity = quantity;\r\n    listCards[key].price = quantity * products[key].price;\r\n  }\r\n  saveData();\r\n  reloadCard();\r\n}\r\n\r\nfunction restoreData() {\r\n  const data = localStorage.getItem('cartItems');\r\n  if (data) {\r\n    listCards = JSON.parse(data);\r\n    reloadCard();\r\n  }\r\n}\r\n\r\n// Gọi hàm initApp khi tải xong trang\r\nwindow.addEventListener('load', initApp);\r\n// Gọi hàm restoreData khi tải lại trang web\r\nwindow.addEventListener('load', restoreData);\r\n\r\n"]}